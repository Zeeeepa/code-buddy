<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 550">
  <defs>
    <linearGradient id="bgGradAg2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#16213e;stop-opacity:1" />
    </linearGradient>
    <marker id="arrowAg2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4a4a6a"/>
    </marker>
    <marker id="arrowGreen2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2ecc71"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="550" fill="url(#bgGradAg2)"/>

  <!-- Title -->
  <text x="400" y="30" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2ecc71" text-anchor="middle">ARCHITECTURE AGENT</text>

  <!-- User + task -->
  <circle cx="400" cy="55" r="15" fill="#3498db"/>
  <text x="400" y="60" font-family="Arial, sans-serif" font-size="12" fill="#ffffff" text-anchor="middle">U</text>
  <text x="400" y="80" font-family="Arial, sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">"Corrige tous les tests qui echouent dans le projet"</text>

  <!-- Arrow -->
  <line x1="400" y1="90" x2="400" y2="105" stroke="#4a4a6a" stroke-width="2" marker-end="url(#arrowAg2)"/>

  <!-- Agentic Loop container -->
  <rect x="150" y="115" width="500" height="280" rx="12" fill="#1e3a2a" stroke="#2ecc71" stroke-width="2"/>
  <text x="400" y="140" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2ecc71" text-anchor="middle">BOUCLE AGENTIQUE</text>

  <!-- THINK box -->
  <rect x="340" y="155" width="120" height="60" rx="8" fill="#2d4a3a" stroke="#f39c12" stroke-width="2"/>
  <text x="400" y="180" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f39c12" text-anchor="middle">THINK</text>
  <text x="400" y="195" font-family="Arial, sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">Analyse</text>
  <text x="400" y="207" font-family="Arial, sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">Planifie</text>

  <!-- Arrow down -->
  <line x1="400" y1="218" x2="400" y2="240" stroke="#4a4a6a" stroke-width="2" marker-end="url(#arrowAg2)"/>

  <!-- ACT box -->
  <rect x="340" y="245" width="120" height="60" rx="8" fill="#2d4a3a" stroke="#3498db" stroke-width="2"/>
  <text x="400" y="270" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#3498db" text-anchor="middle">ACT</text>
  <text x="400" y="285" font-family="Arial, sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">Execute</text>
  <text x="400" y="297" font-family="Arial, sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">outils</text>

  <!-- Arrow down -->
  <line x1="400" y1="308" x2="400" y2="330" stroke="#4a4a6a" stroke-width="2" marker-end="url(#arrowAg2)"/>

  <!-- OBSERVE box -->
  <rect x="340" y="335" width="120" height="50" rx="8" fill="#2d4a3a" stroke="#9b59b6" stroke-width="2"/>
  <text x="400" y="358" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#9b59b6" text-anchor="middle">OBSERVE</text>
  <text x="400" y="375" font-family="Arial, sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">Analyse resultats</text>

  <!-- Loop back arrow -->
  <path d="M 463 360 Q 550 360 550 185 Q 550 155 463 175" stroke="#2ecc71" stroke-width="2" fill="none" marker-end="url(#arrowGreen2)"/>

  <!-- Result check -->
  <rect x="180" y="335" width="100" height="50" rx="8" fill="#2d2d44" stroke="#4a4a6a" stroke-width="1"/>
  <text x="230" y="358" font-family="Arial, sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">Tache</text>
  <text x="230" y="372" font-family="Arial, sans-serif" font-size="9" fill="#cccccc" text-anchor="middle">resolue ?</text>

  <!-- Arrow to result -->
  <line x1="180" y1="360" x2="100" y2="360" stroke="#2ecc71" stroke-width="2"/>
  <text x="90" y="365" font-family="Arial, sans-serif" font-size="10" fill="#2ecc71" text-anchor="end">Resultat</text>

  <!-- Tools section -->
  <rect x="150" y="405" width="240" height="60" rx="8" fill="#2d2d44" stroke="#4a4a6a" stroke-width="1"/>
  <text x="270" y="425" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">OUTILS</text>
  <rect x="165" y="435" width="40" height="22" rx="3" fill="#3498db"/>
  <text x="185" y="450" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">Read</text>
  <rect x="210" y="435" width="40" height="22" rx="3" fill="#3498db"/>
  <text x="230" y="450" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">Write</text>
  <rect x="255" y="435" width="40" height="22" rx="3" fill="#3498db"/>
  <text x="275" y="450" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">Bash</text>
  <rect x="300" y="435" width="40" height="22" rx="3" fill="#3498db"/>
  <text x="320" y="450" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">Git</text>
  <rect x="345" y="435" width="30" height="22" rx="3" fill="#4a4a6a"/>
  <text x="360" y="450" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">...</text>

  <!-- Memory section -->
  <rect x="410" y="405" width="240" height="60" rx="8" fill="#2d2d44" stroke="#4a4a6a" stroke-width="1"/>
  <text x="530" y="425" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">MEMOIRE</text>
  <rect x="425" y="435" width="65" height="22" rx="3" fill="#9b59b6"/>
  <text x="458" y="450" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">Episodique</text>
  <rect x="495" y="435" width="65" height="22" rx="3" fill="#9b59b6"/>
  <text x="528" y="450" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">Semantique</text>
  <rect x="565" y="435" width="70" height="22" rx="3" fill="#9b59b6"/>
  <text x="600" y="450" font-family="Arial, sans-serif" font-size="8" fill="#ffffff" text-anchor="middle">Procedurale</text>
</svg>
