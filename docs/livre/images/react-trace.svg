<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <defs>
    <linearGradient id="bgGradTrace" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#16213e;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="800" height="600" fill="url(#bgGradTrace)"/>

  <!-- Title -->
  <text x="400" y="30" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">EXEMPLE DE TRACE ReAct</text>

  <!-- THOUGHT 1 -->
  <rect x="50" y="50" width="700" height="40" rx="5" fill="#3a3a1e" stroke="#f39c12" stroke-width="1"/>
  <text x="70" y="65" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#f39c12">THOUGHT 1:</text>
  <text x="70" y="80" font-family="Arial, sans-serif" font-size="9" fill="#cccccc">Je dois d'abord executer les tests pour voir l'erreur exacte.</text>

  <!-- ACTION 1 -->
  <rect x="50" y="95" width="700" height="35" rx="5" fill="#1e3a3a" stroke="#3498db" stroke-width="1"/>
  <text x="70" y="110" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#3498db">ACTION 1:</text>
  <text x="170" y="110" font-family="monospace" font-size="9" fill="#cccccc">Bash("npm test -- --grep TestLogin")</text>

  <!-- OBSERVATION 1 -->
  <rect x="50" y="135" width="700" height="60" rx="5" fill="#2a1e3a" stroke="#9b59b6" stroke-width="1"/>
  <text x="70" y="150" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#9b59b6">OBSERVATION 1:</text>
  <text x="70" y="165" font-family="monospace" font-size="8" fill="#e74c3c">FAIL src/auth.test.ts - TestLogin</text>
  <text x="70" y="178" font-family="monospace" font-size="8" fill="#888888">Expected: { success: true, token: expect.any(String) }</text>
  <text x="70" y="191" font-family="monospace" font-size="8" fill="#888888">Received: { success: false, error: "Invalid token format" }</text>

  <!-- THOUGHT 2 -->
  <rect x="50" y="200" width="700" height="45" rx="5" fill="#3a3a1e" stroke="#f39c12" stroke-width="1"/>
  <text x="70" y="215" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#f39c12">THOUGHT 2:</text>
  <text x="70" y="230" font-family="Arial, sans-serif" font-size="9" fill="#cccccc">Le test echoue car le format du token est invalide. Je dois regarder</text>
  <text x="70" y="243" font-family="Arial, sans-serif" font-size="9" fill="#cccccc">la fonction qui genere les tokens.</text>

  <!-- ACTION 2 -->
  <rect x="50" y="250" width="700" height="35" rx="5" fill="#1e3a3a" stroke="#3498db" stroke-width="1"/>
  <text x="70" y="265" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#3498db">ACTION 2:</text>
  <text x="170" y="265" font-family="monospace" font-size="9" fill="#cccccc">Read("src/auth.ts")</text>

  <!-- OBSERVATION 2 -->
  <rect x="50" y="290" width="700" height="35" rx="5" fill="#2a1e3a" stroke="#9b59b6" stroke-width="1"/>
  <text x="70" y="305" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#9b59b6">OBSERVATION 2:</text>
  <text x="70" y="318" font-family="monospace" font-size="8" fill="#888888">[contenu du fichier avec la fonction generateToken...]</text>

  <!-- THOUGHT 3 -->
  <rect x="50" y="330" width="700" height="55" rx="5" fill="#3a3a1e" stroke="#f39c12" stroke-width="1"/>
  <text x="70" y="345" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#f39c12">THOUGHT 3:</text>
  <text x="70" y="360" font-family="Arial, sans-serif" font-size="9" fill="#cccccc">Je vois le probleme : la fonction generateToken() utilise Math.random()</text>
  <text x="70" y="373" font-family="Arial, sans-serif" font-size="9" fill="#cccccc">au lieu d'un generateur crypto securise. Je vais corriger ca.</text>

  <!-- ACTION 3 -->
  <rect x="50" y="390" width="700" height="50" rx="5" fill="#1e3a3a" stroke="#3498db" stroke-width="1"/>
  <text x="70" y="405" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#3498db">ACTION 3:</text>
  <text x="70" y="420" font-family="monospace" font-size="8" fill="#cccccc">Edit("src/auth.ts", {</text>
  <text x="90" y="433" font-family="monospace" font-size="8" fill="#e74c3c">old: "const token = Math.random().toString(36)"</text>
  <text x="90" y="446" font-family="monospace" font-size="8" fill="#2ecc71">new: "const token = crypto.randomUUID()"</text>

  <!-- OBSERVATION 3 + ACTION 4 -->
  <rect x="50" y="445" width="340" height="35" rx="5" fill="#2a1e3a" stroke="#9b59b6" stroke-width="1"/>
  <text x="70" y="460" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#9b59b6">OBSERVATION 3:</text>
  <text x="70" y="473" font-family="Arial, sans-serif" font-size="8" fill="#2ecc71">Fichier modifie avec succes.</text>

  <rect x="410" y="445" width="340" height="35" rx="5" fill="#1e3a3a" stroke="#3498db" stroke-width="1"/>
  <text x="430" y="460" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#3498db">ACTION 4:</text>
  <text x="430" y="473" font-family="monospace" font-size="8" fill="#cccccc">Bash("npm test -- --grep TestLogin")</text>

  <!-- OBSERVATION 4 -->
  <rect x="50" y="485" width="700" height="45" rx="5" fill="#2a1e3a" stroke="#9b59b6" stroke-width="1"/>
  <text x="70" y="500" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#9b59b6">OBSERVATION 4:</text>
  <text x="70" y="515" font-family="monospace" font-size="9" fill="#2ecc71">PASS src/auth.test.ts - TestLogin</text>
  <text x="70" y="528" font-family="monospace" font-size="8" fill="#2ecc71">should authenticate user with valid credentials (23ms)</text>

  <!-- THOUGHT 5 (final) -->
  <rect x="50" y="535" width="700" height="35" rx="5" fill="#1e3a1e" stroke="#2ecc71" stroke-width="2"/>
  <text x="70" y="550" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#2ecc71">THOUGHT 5:</text>
  <text x="70" y="563" font-family="Arial, sans-serif" font-size="9" fill="#2ecc71">Le test passe maintenant. La tache est complete.</text>
</svg>
