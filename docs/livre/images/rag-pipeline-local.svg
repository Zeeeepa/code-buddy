<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <defs>
    <linearGradient id="bgGradR" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#16213e;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="gpuGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#76b900;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#5a8f00;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="embedGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9b59b6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8e44ad;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="storeGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="queryGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e67e22;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d35400;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="resultGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1abc9c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#16a085;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="llmGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c0392b;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="800" height="400" fill="url(#bgGradR)"/>

  <!-- Title -->
  <text x="400" y="35" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#ffffff" text-anchor="middle">RAG Pipeline Local</text>
  <text x="400" y="55" font-family="Arial, sans-serif" font-size="12" fill="#888888" text-anchor="middle">100% local - $0/mois</text>

  <!-- Step numbers -->
  <circle cx="100" cy="130" r="20" fill="#2d3436" stroke="#76b900" stroke-width="2"/>
  <text x="100" y="136" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#76b900" text-anchor="middle">1</text>

  <circle cx="240" cy="130" r="20" fill="#2d3436" stroke="#9b59b6" stroke-width="2"/>
  <text x="240" y="136" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#9b59b6" text-anchor="middle">2</text>

  <circle cx="380" cy="130" r="20" fill="#2d3436" stroke="#3498db" stroke-width="2"/>
  <text x="380" y="136" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#3498db" text-anchor="middle">3</text>

  <!-- Row 1: Indexing -->
  <text x="240" y="85" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">INDEXATION</text>

  <!-- GPU Check -->
  <rect x="55" y="160" width="90" height="70" rx="8" fill="url(#gpuGrad)" stroke="#8bc34a" stroke-width="2"/>
  <text x="100" y="185" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">GPU</text>
  <text x="100" y="200" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">Monitor</text>
  <text x="100" y="220" font-family="Arial, sans-serif" font-size="9" fill="#e8f5e9" text-anchor="middle">VRAM: OK</text>

  <!-- Arrow 1->2 -->
  <path d="M 145 195 L 185 195" stroke="#76b900" stroke-width="2" fill="none"/>
  <polygon points="185,190 195,195 185,200" fill="#76b900"/>

  <!-- Embed -->
  <rect x="195" y="160" width="90" height="70" rx="8" fill="url(#embedGrad)" stroke="#bb8fce" stroke-width="2"/>
  <text x="240" y="185" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">Ollama</text>
  <text x="240" y="200" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">Embeddings</text>
  <text x="240" y="220" font-family="Arial, sans-serif" font-size="9" fill="#e8daef" text-anchor="middle">768 dims</text>

  <!-- Arrow 2->3 -->
  <path d="M 285 195 L 325 195" stroke="#9b59b6" stroke-width="2" fill="none"/>
  <polygon points="325,190 335,195 325,200" fill="#9b59b6"/>

  <!-- Store -->
  <rect x="335" y="160" width="90" height="70" rx="8" fill="url(#storeGrad)" stroke="#5dade2" stroke-width="2"/>
  <text x="380" y="185" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">HNSW</text>
  <text x="380" y="200" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">VectorDB</text>
  <text x="380" y="220" font-family="Arial, sans-serif" font-size="9" fill="#d4e6f1" text-anchor="middle">O(log N)</text>

  <!-- Row 2: Query -->
  <circle cx="100" cy="280" r="20" fill="#2d3436" stroke="#e67e22" stroke-width="2"/>
  <text x="100" y="286" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#e67e22" text-anchor="middle">4</text>

  <circle cx="240" cy="280" r="20" fill="#2d3436" stroke="#1abc9c" stroke-width="2"/>
  <text x="240" y="286" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1abc9c" text-anchor="middle">5</text>

  <circle cx="380" cy="280" r="20" fill="#2d3436" stroke="#e74c3c" stroke-width="2"/>
  <text x="380" y="286" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#e74c3c" text-anchor="middle">6</text>

  <text x="240" y="250" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">RECHERCHE</text>

  <!-- Query -->
  <rect x="55" y="310" width="90" height="70" rx="8" fill="url(#queryGrad)" stroke="#f39c12" stroke-width="2"/>
  <text x="100" y="335" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">User</text>
  <text x="100" y="350" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">Query</text>
  <text x="100" y="370" font-family="Arial, sans-serif" font-size="9" fill="#fdebd0" text-anchor="middle">"Explain X"</text>

  <!-- Arrow 4->5 -->
  <path d="M 145 345 L 185 345" stroke="#e67e22" stroke-width="2" fill="none"/>
  <polygon points="185,340 195,345 185,350" fill="#e67e22"/>

  <!-- Results -->
  <rect x="195" y="310" width="90" height="70" rx="8" fill="url(#resultGrad)" stroke="#48c9b0" stroke-width="2"/>
  <text x="240" y="335" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">Top-K</text>
  <text x="240" y="350" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">Results</text>
  <text x="240" y="370" font-family="Arial, sans-serif" font-size="9" fill="#d5f5e3" text-anchor="middle">5 chunks</text>

  <!-- Arrow 5->6 -->
  <path d="M 285 345 L 325 345" stroke="#1abc9c" stroke-width="2" fill="none"/>
  <polygon points="325,340 335,345 325,350" fill="#1abc9c"/>

  <!-- LLM -->
  <rect x="335" y="310" width="90" height="70" rx="8" fill="url(#llmGrad)" stroke="#ec7063" stroke-width="2"/>
  <text x="380" y="335" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">LLM</text>
  <text x="380" y="350" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">(Local)</text>
  <text x="380" y="370" font-family="Arial, sans-serif" font-size="9" fill="#fadbd8" text-anchor="middle">Qwen/Devstral</text>

  <!-- Vertical connection -->
  <path d="M 380 230 L 380 250 L 380 250" stroke="#3498db" stroke-width="2" stroke-dasharray="5,3" fill="none"/>

  <!-- Stats panel -->
  <rect x="470" y="100" width="300" height="280" rx="10" fill="#2d3436" stroke="#636e72" stroke-width="1"/>
  <text x="620" y="130" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#ffffff" text-anchor="middle">Comparaison des Couts</text>
  <line x1="490" y1="145" x2="750" y2="145" stroke="#636e72" stroke-width="1"/>

  <!-- Cloud costs -->
  <text x="500" y="175" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e74c3c">Cloud (avant)</text>
  <text x="500" y="200" font-family="Arial, sans-serif" font-size="10" fill="#bdc3c7">OpenAI Embeddings:</text>
  <text x="700" y="200" font-family="Arial, sans-serif" font-size="10" fill="#e74c3c">$342/mois</text>
  <text x="500" y="220" font-family="Arial, sans-serif" font-size="10" fill="#bdc3c7">Pinecone:</text>
  <text x="700" y="220" font-family="Arial, sans-serif" font-size="10" fill="#e74c3c">$89/mois</text>
  <text x="500" y="240" font-family="Arial, sans-serif" font-size="10" fill="#bdc3c7">API Chat:</text>
  <text x="700" y="240" font-family="Arial, sans-serif" font-size="10" fill="#e74c3c">$500/mois</text>
  <line x1="650" y1="250" x2="740" y2="250" stroke="#636e72" stroke-width="1"/>
  <text x="700" y="268" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">$931/mois</text>

  <!-- Local costs -->
  <text x="500" y="300" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2ecc71">Local (apres)</text>
  <text x="500" y="325" font-family="Arial, sans-serif" font-size="10" fill="#bdc3c7">Ollama Embeddings:</text>
  <text x="700" y="325" font-family="Arial, sans-serif" font-size="10" fill="#2ecc71">$0</text>
  <text x="500" y="345" font-family="Arial, sans-serif" font-size="10" fill="#bdc3c7">HNSW Store:</text>
  <text x="700" y="345" font-family="Arial, sans-serif" font-size="10" fill="#2ecc71">$0</text>
  <text x="500" y="365" font-family="Arial, sans-serif" font-size="10" fill="#bdc3c7">Local LLM:</text>
  <text x="700" y="365" font-family="Arial, sans-serif" font-size="10" fill="#2ecc71">$0</text>
  <line x1="650" y1="372" x2="740" y2="372" stroke="#636e72" stroke-width="1"/>
  <text x="700" y="390" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2ecc71">$0/mois</text>

  <!-- Savings callout -->
  <rect x="490" y="70" width="140" height="25" rx="5" fill="#1e8449" stroke="#2ecc71" stroke-width="2"/>
  <text x="560" y="88" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#ffffff" text-anchor="middle">-100% couts!</text>
</svg>
